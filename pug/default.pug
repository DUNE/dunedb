doctype html
html
  head

    block pugscripts
      
    block vars
    title #{page_title || 'Sietch'}

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    //- link(rel='stylesheet' href='/bootstrap/css/bootstrap.min.css')
    link(rel='icon' type='image/png' href='/images/Otterbein.png')

    link(rel='stylesheet' href='/css/custom.scss')
    link(rel='stylesheet' href='/dist/formiojs/formio.full.min.css')

    script(src='/dist/jquery/jquery.min.js')
    script(src='/dist/bootstrap/js/bootstrap.min.js')
    script(src="/dist/bootstrap-autocomplete/latest/bootstrap-autocomplete.min.js")
    script(src='/dist/formiojs/formio.full.js')
    script(src="/dist/short-uuid/short-uuid.min.js")
    script(src='/dist/deepmerge/umd.js')
    script(src='/dist/ekko-lightbox/ekko-lightbox.min.js')

    //- Used to pop open a small image to full-screen
    script.
      $(document).on('click', '[data-toggle="lightbox"]', function(event) {event.preventDefault();$(this).ekkoLightbox({alwaysShowClose: true});});

    //- QR codes, FIXME replace with an npm package?
    script(src='/dist/jsqr/jsQR.js') 
    script(src="/ext/qrcodegen.js")

    script(src='/dist/fabric/fabric.min.js')
    script(src='/dist/fabric-history/index.min.js')

    script(type="text/javascript", src="/ext/qrcodegen.js")
    script(type="text/javascript", src="/js/generate_qr_code.js")
    script(src='/components/ComponentGeoTag.js')
    script(src='/components/ComponentUUID.js')
    script(src='/components/ComponentWorkStep.js')
    script(src='/components/ComponentArray.js')
    script(src='/components/ComponentSpecNumber.js')
    script(src='/components/Components_misc.js')
    script(src='/components/DatabaseImage.js')
    script(src='/components/DatabaseFile.js')

    script(src='/js/AnnotationCanvas.js')
    script(src='/components/ImageAnnotator.js')
    script(src='/components/AnnotatedImage.js')
    script(src='/components/BetterDataGrid.js')


    script(src='/js/uuid_autocomplete.js')
    script(src='/js/ABoundObject.js')
    script(src='/js/Pad.js')
    script(src='/js/Histogram.js')
    script(src='/js/HistCanvas.js')
    script(src='/js/ColorScale.js')

    link(rel='stylesheet', href='/css/main.css', type='text/css', media='all')
    link(rel='stylesheet', href='/css/AnnotationCanvas.css', type='text/css', media='all')
    style.
      li.nav-item img { height: 40px;}

    block extrascripts      


  body
    .header

      block navbar
        nav.navbar.navbar-expand-lg.navbar-light.bg-light
          a.navbar-brand(href='/') Sietch.xyz
          button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
            span.navbar-toggler-icon
          #navbarSupportedContent.collapse.navbar-collapse
            ul.navbar-nav.mr-auto
              li.nav-item
                a.nav-link(href='/')  Home 
              li.nav-item
                a.nav-link(href='/NewComponent') Register new component
                //-   li.nav-item.dropdown
                //-     a#navbarDropdown.nav-link.dropdown-toggle(href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                //-       | Dropdown
                //-     .dropdown-menu(aria-labelledby='navbarDropdown')
                //-       a.dropdown-item(href='#') Action
                //-       a.dropdown-item(href='#') Another action
                //-       .dropdown-divider
                //-       a.dropdown-item(href='#') Something else here
              
                //- a.nav-link.disabled(href='#') Prototype APA assembly/QA/inventory database
            ul.navbar-nav.navbar-right
              li.nav-item
                img(src='/images/Otterbein.png')
              li.nav-item
                img(src='/images/DUNElogo_colorHORIZONTAL.png')

              if locals.user
                li.nav-item
                  a.nav-link(href="/user") Profile
                li.nav-item
                  a.nav-link(href="/logout") Log Out
              else
                li.nav-item
                  a.nav-link(href="/login") Log In / Sign Up


            //- form.form-inline.my-2.my-lg-0

            //-   input.form-control.mr-sm-2(type='search' placeholder='Search' aria-label='Search')
            //-   button.btn.btn-outline-success.my-2.my-sm-0(type='submit') Search

      div(style='clear:both;')


      block role
 
    .main-content.container-fluid
      block content 

          

      

    block footer   